<!-- <script>
  function initCanvas () {
    var ctx = document.getElementById('my_canvas').getContext('2d')
    ctx.canvas.addEventListener('mousemove', function (event) {
      var mouseX = event.clientX - ctx.canvas.offsetLeft
      var mouseY = event.clientY - ctx.canvas.offsetTop
      var status = document.getElementById('status')
      status.innerHTML = mouseX + ' | ' + mouseY
    })
    ctx.canvas.addEventListener('click', function (event) {
      var mouseX = event.pageX - ctx.canvas.offsetLeft
      var mouseY = event.pageY - ctx.canvas.offsetTop
      // alert(mouseX+" | "+mouseY);
      ctx.fillStyle = 'orange'
      ctx.fillRect(mouseX - 15, mouseY - 15, 30, 30)
    })
  }
  window.addEventListener('load', function (event) {
    initCanvas()
  })
</script> -->

<div id="__next">
  <main>
    <section
      class="page__title-area page__title-height page__title-overlay d-flex align-items-center"
      style="background-image:url(/img/page-title/page1.jpg)"
    >
      <div class="container">
        <div class="row">
          <div class="col-xxl-12">
            <div class="page__title-wrapper mt-110">
              <h3 class="page__title">Upload & Sign Document</h3>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="/home">Home</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    Document
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    Upload & Sign
                  </li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="cart-area pt-100 pb-100">
      <div class="container">
        <div class="containeruploadsign">
          <% if (msg.length !== 0) { %>
          <div class="alert alert-success" role="alert">
            <%= msg %>
          </div>
          <% } %>
          <div class="card">
            <div class="card-header">
              Information
            </div>
            <div class="card-body">
              <blockquote class="blockquote mb-0">
                <p>
                  Upload a PDF document for you to sign yourself. Maximum
                  document size: 25 MB
                </p>
              </blockquote>
            </div>
          </div>
          <br />

          <button class="e-btn e-btn-border col-md-2.5" type="submit">
            <a href="/document">
              Uploaded Document
            </a>
          </button>
          <button class="e-btn e-btn-border col-md-2 " type="submit">
            <a href="/document/signed_document">
              Signed Document
            </a>
          </button>
          <button class="e-btn e-btn-border col-md-2" type="submit">
            <a href="/document/signature_request">
              Signature Request
            </a>
          </button>
          <button class="e-btn e-btn-border col-md-2" type="submit">
            <a href="/document/upload">
              Upload Document
            </a>
          </button>
          <button
            class="e-btn e-btn-border col-md-2 btn-active-document"
            type="submit"
          >
            <a href="/document/upload&sign">
              Upload & Sign
            </a>
          </button>

          <div class="row">
            <div class="col-12">
              <form action="#">
                <div class="table-content table-responsive">
                  <table class="table">
                    <thead>
                      <tr>
                        <th class="product-thumbnail">No</th>

                        <th class="cart-product-name">Document</th>

                        <th class="cart-product-name">Upload</th>
                        <th class="cart-product-name">Signed</th>

                        <th class="product-quantity">Certificate</th>

                        <th class="product-remove">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <% if (documents.length === 0) { %>
                      <tr>
                        <td colspan="6">
                          <div class="alert alert-danger" role="alert">
                            Document is still empty.
                          </div>
                        </td>
                      </tr>
                      <% } %> <% documents.forEach((document, i) => { i++ %>
                      <tr>
                        <td scope="row"><%= i++ %></td>

                        <td><%= document.nm_document %></td>

                        <td><%= document.timeCreated %></td>
                        <td><%= document.timeSigned %></td>

                        <td><%= document.certificate_number %></td>
                        <td>
                          <form></form>
                          <form
                            action="/document/download/<%= document._id %>"
                            method="POST"
                            class="d-inline"
                          >
                            <input
                              type="hidden"
                              name="_id"
                              value="<%= document._id %>"
                            />
                            <button
                              type="submit"
                              class="btn btn-success badge rounded-pill"
                            >
                              <i class="bi bi-info-circle fa fa-download"></i>
                              Download
                            </button>
                          </form>
                        </td>
                      </tr>
                      <% }) %>
                    </tbody>
                  </table>
                </div>
              </form>
            </div>
          </div>
          <br />
          <a
            class="btn btn-primary"
            data-toggle="collapse"
            href="#collapseExample"
            role="button"
            aria-expanded="false"
            aria-controls="collapseExample"
          >
            Upload
          </a>
          <div class="collapse" id="collapseExample">
            <br />
            <div class="row">
              <div class="col-12">
                <div class="hero__content p-relative z-index-1">
                  <h3 class="hero__title">
                    <span class="yellow-shape">Upload </span>Document
                  </h3>

                  <br />

                  <form
                    method="post"
                    action="/document/upload&sign"
                    enctype="multipart/form-data"
                  >
                    <div class="mb-3 row">
                      <label for="staticEmail" class="col-sm-2 col-form-label"
                        >Digital Certificate</label
                      >
                      <div class="col-sm-6">
                        <input
                          type="text"
                          readonly
                          class="form-control-plaintext"
                          id="serialnumber"
                          value="<%= certificatenumber %>"
                          name="serialnumber"
                        />
                      </div>
                    </div>
                    <div class="mb-3 row">
                      <label for="staticEmail" class="col-sm-2 col-form-label"
                        >Certificate Password</label
                      >
                      <div class="col-sm-6">
                        <% if (!certificates[0]) { %>
                        <input
                          type="password"
                          name="certificate_password"
                          placeholder="Enter the password you used to create a digital certificate"
                          class="form-control"
                          id="certificate_password"
                          readonly
                        />
                        <% } else { %>
                        <input
                          type="password"
                          name="certificate_password"
                          placeholder="Enter the password you used to create a digital certificate"
                          class="form-control"
                          minlength="8"
                          id="certificate_password"
                        />
                        <% } %>
                      </div>
                    </div>
                    <div class="mb-3 row">
                      <label for="staticEmail" class="col-sm-2 col-form-label"
                        >Dokument (PDF)</label
                      >
                      <div class="col-sm-6">
                        <input
                          type="file"
                          name="document"
                          placeholder="document"
                          id="document"
                        />
                      </div>
                    </div>

                    <br />
                    <div class="btnbiru">
                      <button
                        type="submit"
                        value="upload"
                        class="btn btn-primary"
                      >
                        Next
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>
